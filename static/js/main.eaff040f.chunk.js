(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(t,e,a){t.exports=a(59)},38:function(t,e,a){},39:function(t,e,a){},59:function(t,e,a){"use strict";a.r(e);var o=a(0),n=a.n(o),r=a(26),i=a.n(r),c=a(14),d=(a(38),a(4)),l=a(5),s=a(7),u=a(6),p=a(8),m=(a(39),a(12)),f=function(t){function e(t){var a;return Object(d.a)(this,e),(a=Object(s.a)(this,Object(u.a)(e).call(this,t))).handleInput=function(t){a.setState(Object(m.a)({},t.target.name,t.target.value))},a.handleSubmit=function(t){var e=a.state,o=e.todo,n=e.tipo,r=e.dataEntrega;a.props.createTodo(o,n,r||Date.now()),a.setState({todo:"",tipo:"pessoal",dataEntrega:""}),t.preventDefault()},a.state={todo:"",tipo:"pessoal",dataEntrega:""},a}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return n.a.createElement("form",{className:"form-inline",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"text",name:"todo",id:"todo",className:"form-control",placeholder:"Nome da Atividade",onChange:this.handleInput,value:this.state.todo})),n.a.createElement("div",{className:"form-group"},n.a.createElement("select",{name:"tipo",id:"tipo",className:"form-control",onChange:this.handleInput,value:this.state.tipo},n.a.createElement("option",{defaultValue:!0,value:"pessoal"},"Pessoal"),n.a.createElement("option",{value:"profissional"},"Profissional"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"date",name:"dataEntrega",id:"dataEntrega",className:"form-control",onChange:this.handleInput,value:this.state.dataEntrega})),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"submit",className:"button button--primary",value:"Adicionar"})))}}]),e}(o.Component),E=a(13),h=function(t){if(t)return"completed"},g=function(t){var e=t.todo,a=t.deleteTodo,o=t.doUpdateTodo;return n.a.createElement("tr",{className:h(e.finalizado)},n.a.createElement("td",null,e.todo,n.a.createElement("hr",{className:h(e.finalizado)})),n.a.createElement("td",null,e.tipo),n.a.createElement("td",null,new Date(e.dataEntrega).toLocaleDateString()),n.a.createElement("td",null,n.a.createElement("label",{className:"checkbox"},n.a.createElement("input",{type:"checkbox",value:e.finalizado,checked:e.finalizado,onChange:function(){return o(Object(E.a)({},e,{finalizado:!e.finalizado}))}}),n.a.createElement("span",{className:"check"}))),n.a.createElement("td",null,n.a.createElement("div",{className:"icons"},n.a.createElement("i",{className:"fas fa-edit",onClick:function(){return console.log("asdfkh")}}),n.a.createElement("i",{className:"fas fa-trash-alt",onClick:function(){return a(e.id)}}))))},O=function(t){function e(t){var a;return Object(d.a)(this,e),(a=Object(s.a)(this,Object(u.a)(e).call(this,t))).toggleOrdenacao=function(t,e){t===a.state.tipo?a.setState(function(t){return{desc:!t.desc}}):a.setState({desc:!0,tipo:t})},a.ordenarAtividades=function(t,e,o){switch(e){case"tipo":return a.ordenarPorTipo(t,o);case"periodo":return a.ordenarPorPeriodo(t,o);case"status":return a.ordenarPorStatus(t,o);default:return a.ordenarPorNome(t,o)}},a.ordenarPorNome=function(t,e){return t.sort(function(t,a){var o=t.todo.toLowerCase(),n=a.todo.toLowerCase();return o>n?e?1:-1:n>o?e?-1:1:0}),a.mostrarAtividades(t)},a.ordenarPorTipo=function(t,e){return t.sort(function(t,a){var o=t.tipo.toLowerCase(),n=a.tipo.toLowerCase();return o>n?e?1:-1:n>o?e?-1:1:0}),a.mostrarAtividades(t)},a.ordenarPorPeriodo=function(t,e){return t.sort(function(t,a){var o=new Date(t.dataEntrega),n=new Date(a.dataEntrega);return e?n-o:o-n}),a.mostrarAtividades(t)},a.ordenarPorStatus=function(t,e){return t.sort(function(t,a){var o=t.finalizado,n=a.finalizado;return e?n-o:o-n}),a.mostrarAtividades(t)},a.mostrarAtividades=function(t){return t.map(function(t){return n.a.createElement(g,{key:t.id,todo:t,deleteTodo:a.props.deleteTodo,doUpdateTodo:a.props.doUpdateTodo})})},a.state={tipo:"nome",desc:!1},a}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props.todos,a=this.state,o=a.tipo,r=a.desc,i=this.ordenarAtividades(e,o,r);return n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{onClick:function(){return t.toggleOrdenacao("nome",r)}},n.a.createElement("i",{className:"fas fa-angle-down"})," Nome"),n.a.createElement("th",{onClick:function(){return t.toggleOrdenacao("tipo",r)}},n.a.createElement("i",{className:"fas fa-angle-down"})," Tipo"),n.a.createElement("th",{onClick:function(){return t.toggleOrdenacao("periodo",r)}},n.a.createElement("i",{className:"fas fa-angle-down"})," Per\xedodo"),n.a.createElement("th",{onClick:function(){return t.toggleOrdenacao("status",r)}},n.a.createElement("i",{className:"fas fa-angle-down"})," Status"),n.a.createElement("th",null,n.a.createElement("i",{className:"fas fa-angle-down"})," Editar"))),n.a.createElement("tbody",null,e?i:n.a.createElement("div",null,"Carregando...")))}}]),e}(n.a.Component),v=a(11),b=a.n(v),T=Object({NODE_ENV:"production",PUBLIC_URL:"/gerdau-todos-frontend"}).SERVER_URL||"https://msena-gerdau-python.herokuapp.com/",N=function(t){function e(){return Object(d.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchAllTodos()}},{key:"render",value:function(){var t=this.props,e=t.todos,a=t.createTodo,o=t.deleteTodo,r=t.doUpdateTodo;return n.a.createElement("div",{className:"App"},n.a.createElement("header",null,n.a.createElement("h1",null,"To Do List")),n.a.createElement(f,{createTodo:a}),e.length?n.a.createElement(O,{todos:e,deleteTodo:o,doUpdateTodo:r}):n.a.createElement("div",{className:"App--sem-atividades"},n.a.createElement("p",null,"N\xe3o h\xe1 atividades registradas.")),n.a.createElement("div",{className:"popup"}))}}]),e}(o.Component),j=Object(c.b)(function(t){return{todos:t.todos}},{fetchAllTodos:function(){return function(t){return b.a.get("".concat(T,"/todos")).then(function(e){return t({type:"SHOW_ALL_TODOS",todos:e.data})}).catch(function(t){return console.log(t)})}},createTodo:function(t,e,a){return function(o){return b.a.post("".concat(T,"/todos/"),{todo:t,tipo:e,dataEntrega:a},{headers:{"Content-Type":"application/json"}}).then(function(t){var e,a=t.data,n=a.id,r=a.todo,i=a.tipo,c=a.finalizado,d=a.dataEntrega;o({type:"ADD_TODO",todo:{id:(e={id:n,todo:r,tipo:i,dataEntrega:d,finalizado:c}).id,todo:e.todo,tipo:e.tipo,dataEntrega:e.dataEntrega,finalizado:e.finalizado}})}).catch(function(t){return console.log(t)})}},deleteTodo:function(t){return function(e){return b.a.delete("".concat(T,"/todos/").concat(t)).then(function(a){return e(function(t){return{type:"REMOVE_TODO",id:t}}(t))}).catch(function(t){return console.log(t)})}},doUpdateTodo:function(t){var e=t.id,a=t.todo,o=t.tipo,n=t.finalizado,r=t.dataEntrega;return function(t){return b.a.put("".concat(T,"/todos/").concat(e),{todo:a,tipo:o,finalizado:n,dataEntrega:r},{headers:{"Content-Type":"application/json"}}).then(function(i){var c,d;return t((c=i.data,e=c.id,a=c.todo,o=c.tipo,n=c.finalizado,r=c.dataEntrega,{type:"UPDATE_TODO",todo:{id:(d=c).id,todo:d.todo,tipo:d.tipo,finalizado:d.finalizado,dataEntrega:d.dataEntrega}}))}).catch(function(t){return console.log(t)})}}})(N);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=a(2),D=a(28),_=a(10),y=Object(w.c)({todos:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SHOW_ALL_TODOS":return Object(_.a)(e.todos);case"ADD_TODO":var a=e.todo,o=a.id,n=a.todo,r=a.tipo,i=a.dataEntrega,c=a.finalizado;return[].concat(Object(_.a)(t),[{id:o,todo:n,tipo:r,dataEntrega:i,finalizado:c}]);case"REMOVE_TODO":return Object(_.a)(t.filter(function(t){return t.id!==e.id}));case"UPDATE_TODO":var d=t.findIndex(function(t){return t.id===e.todo.id}),l=t;return l.splice.apply(l,[d,1].concat(Object(_.a)(t.filter(function(t){return t.id===e.todo.id}).map(function(t){return Object(E.a)({},e.todo)})))),Object(_.a)(l);default:return t}}}),k=Object(w.e)(y,Object(w.d)(Object(w.a)(D.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));i.a.render(n.a.createElement(c.a,{store:k},n.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.eaff040f.chunk.js.map